summarize(
IQR = (quantile(get(feature), .75)-quantile(get(feature), .25)),
min = min(get(feature)),
LF = quantile(get(feature), .25) - 1.5*IQR,
UF = quantile(get(feature), .75) + 1.5*IQR,
max = max(get(feature))) |>
mutate(out.of.range = case_when(
select(allentown.dat, contains(feature)) < min ~ "TRUE",
select(allentown.dat, contains(feature)) > max ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(unusual = case_when(
select(allentown.dat, contains(feature)) < LF ~ "TRUE",
select(allentown.dat, contains(feature)) > UF ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(description = case_when(
out.of.range == "TRUE"  ~ "Out of Range",
unusual == "TRUE"       ~ "Outlying",
TRUE                    ~ "Within Range"))
view(dat1)
}
compare("overall_loudness")
compare("overall_loudness")
view(dat1)
select(allentown.dat, contains("overall_loudness"))
library(tidyverse)
all.dat = read_csv("data/essentia.data.csv")
allentown.dat = read_csv("data/essentia.data.allentown.csv")
loudness.dat = all.dat |>
group_by(artist) |>
summarize(
IQR = (quantile(overall_loudness, .75)-quantile(overall_loudness, .25)),
min = min(overall_loudness),
LF = quantile(overall_loudness, .25) - 1.5*IQR,
UF = quantile(overall_loudness, .75) + 1.5*IQR,
max = max(overall_loudness)) |>
mutate(out.of.range = case_when(
allentown.dat$overall_loudness < min ~ "TRUE",
allentown.dat$overall_loudness > max ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(unusual = case_when(
allentown.dat$overall_loudness < LF ~ "TRUE",
allentown.dat$overall_loudness > UF ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(description = case_when(
out.of.range == "TRUE"  ~ "Out of Range",
unusual == "TRUE"       ~ "Outlying",
TRUE                    ~ "Within Range"))
compare = function(feature){
dat1 = all.dat |>
group_by(artist) |>
summarize(
IQR = (quantile(get(feature), .75)-quantile(get(feature), .25)),
min = min(get(feature)),
LF = quantile(get(feature), .25) - 1.5*IQR,
UF = quantile(get(feature), .75) + 1.5*IQR,
max = max(get(feature))) |>
mutate(out.of.range = case_when(
select(allentown.dat, contains(feature)) < min ~ "TRUE",
select(allentown.dat, contains(feature)) > max ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(unusual = case_when(
select(allentown.dat, contains(feature)) < LF ~ "TRUE",
select(allentown.dat, contains(feature)) > UF ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(description = case_when(
out.of.range == "TRUE"  ~ "Out of Range",
unusual == "TRUE"       ~ "Outlying",
TRUE                    ~ "Within Range"))
view(dat1)
}
compare("overall_loudness")
view(loudness.dat)
select(allentown.dat, contains("overall_loudness"))
compare = function(feature){
dat1 = all.dat |>
group_by(artist) |>
summarize(
IQR = (quantile(get(feature), .75)-quantile(get(feature), .25)),
min = min(get(feature)),
LF = quantile(get(feature), .25) - 1.5*IQR,
UF = quantile(get(feature), .75) + 1.5*IQR,
max = max(get(feature))) |>
mutate(out.of.range = case_when(
select(allentown.dat, contains(str(feature))) < min ~ "TRUE",
select(allentown.dat, contains(str(feature))) > max ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(unusual = case_when(
select(allentown.dat, contains(str(feature))) < LF ~ "TRUE",
select(allentown.dat, contains(str(feature))) > UF ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(description = case_when(
out.of.range == "TRUE"  ~ "Out of Range",
unusual == "TRUE"       ~ "Outlying",
TRUE                    ~ "Within Range"))
view(dat1)
}
compare("overall_loudness")
str("overall_loudness")
compare("overall_loudness")
compare = function(feature){
dat1 = all.dat |>
group_by(artist) |>
summarize(
IQR = (quantile(get(feature), .75)-quantile(get(feature), .25)),
min = min(get(feature)),
LF = quantile(get(feature), .25) - 1.5*IQR,
UF = quantile(get(feature), .75) + 1.5*IQR,
max = max(get(feature))) |>
mutate(out.of.range = case_when(
select(allentown.dat, contains(feature)) < min ~ "TRUE",
select(allentown.dat, contains(feature)) > max ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(unusual = case_when(
select(allentown.dat, contains(feature)) < LF ~ "TRUE",
select(allentown.dat, contains(feature)) > UF ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(description = case_when(
out.of.range == "TRUE"  ~ "Out of Range",
unusual == "TRUE"       ~ "Outlying",
TRUE                    ~ "Within Range"))
view(dat1)
}
compare("overall_loudness")
feature = "overall_loudness"
select(allentown.dat, contains(feature))
view(select(allentown.dat, contains(feature)))
select(allentown.dat, contains(feature))[1]
select(allentown.dat, contains(feature))
select(allentown.dat, contains(feature))[2]
select(allentown.dat, contains(feature))[0]
select(allentown.dat, contains(feature))[1]
compare = function(feature){
dat1 = all.dat |>
group_by(artist) |>
summarize(
IQR = (quantile(get(feature), .75)-quantile(get(feature), .25)),
min = min(get(feature)),
LF = quantile(get(feature), .25) - 1.5*IQR,
UF = quantile(get(feature), .75) + 1.5*IQR,
max = max(get(feature))) |>
mutate(out.of.range = case_when(
select(allentown.dat, contains(feature)) < min ~ "TRUE",
select(allentown.dat, contains(feature)) > max ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(unusual = case_when(
select(allentown.dat, contains(feature)) < LF ~ "TRUE",
select(allentown.dat, contains(feature)) > UF ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(description = case_when(
out.of.range == "TRUE"  ~ "Out of Range",
unusual == "TRUE"       ~ "Outlying",
TRUE                    ~ "Within Range"))
view(dat1)
}
compare("overall_loudness")
compare("spectral_energy")
rlang::last_trace()
compare(overall_loudness)
compare("overall_loudness")
compare("spectral_energy")
compare(sad)
compare("sad")
compare("overall_loudness")
view(all.dat)
compare("danceability")
library(tidyverse)
all.dat = read_csv("data/essentia.data.csv")
allentown.dat = read_csv("data/essentia.data.allentown.csv")
loudness.dat = all.dat |>
group_by(artist) |>
summarize(
IQR = (quantile(overall_loudness, .75)-quantile(overall_loudness, .25)),
min = min(overall_loudness),
LF = quantile(overall_loudness, .25) - 1.5*IQR,
UF = quantile(overall_loudness, .75) + 1.5*IQR,
max = max(overall_loudness)) |>
mutate(out.of.range = case_when(
allentown.dat$overall_loudness < min ~ "TRUE",
allentown.dat$overall_loudness > max ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(unusual = case_when(
allentown.dat$overall_loudness < LF ~ "TRUE",
allentown.dat$overall_loudness > UF ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(description = case_when(
out.of.range == "TRUE"  ~ "Out of Range",
unusual == "TRUE"       ~ "Outlying",
TRUE                    ~ "Within Range"))
compare = function(feature){
dat1 = all.dat |>
group_by(artist) |>
summarize(
IQR = (quantile(get(feature), .75)-quantile(get(feature), .25)),
min = min(get(feature)),
LF = quantile(get(feature), .25) - 1.5*IQR,
UF = quantile(get(feature), .75) + 1.5*IQR,
max = max(get(feature))) |>
mutate(out.of.range = case_when(
select(allentown.dat, contains(feature)) < min ~ "TRUE",
select(allentown.dat, contains(feature)) > max ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(unusual = case_when(
select(allentown.dat, contains(feature)) < LF ~ "TRUE",
select(allentown.dat, contains(feature)) > UF ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(description = case_when(
out.of.range == "TRUE"  ~ "Out of Range",
unusual == "TRUE"       ~ "Outlying",
TRUE                    ~ "Within Range"))
view(dat1)
}
compare("danceability")
library(tidyverse)
all.dat = read_csv("data/essentia.data.csv")
allentown.dat = read_csv("data/essentia.data.allentown.csv")
loudness.dat = all.dat |>
group_by(artist) |>
summarize(
IQR = (quantile(overall_loudness, .75)-quantile(overall_loudness, .25)),
min = min(overall_loudness),
LF = quantile(overall_loudness, .25) - 1.5*IQR,
UF = quantile(overall_loudness, .75) + 1.5*IQR,
max = max(overall_loudness)) |>
mutate(out.of.range = case_when(
allentown.dat$overall_loudness < min ~ "TRUE",
allentown.dat$overall_loudness > max ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(unusual = case_when(
allentown.dat$overall_loudness < LF ~ "TRUE",
allentown.dat$overall_loudness > UF ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(description = case_when(
out.of.range == "TRUE"  ~ "Out of Range",
unusual == "TRUE"       ~ "Outlying",
TRUE                    ~ "Within Range"))
compare = function(feature){
dat1 = all.dat |>
group_by(artist) |>
summarize(
IQR = (quantile(get(feature), .75)-quantile(get(feature), .25)),
min = min(get(feature)),
LF = quantile(get(feature), .25) - 1.5*IQR,
UF = quantile(get(feature), .75) + 1.5*IQR,
max = max(get(feature))) |>
mutate(out.of.range = case_when(
select(allentown.dat, contains(feature)) < min ~ "TRUE",
select(allentown.dat, contains(feature)) > max ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(unusual = case_when(
select(allentown.dat, contains(feature)) < LF ~ "TRUE",
select(allentown.dat, contains(feature)) > UF ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(description = case_when(
out.of.range == "TRUE"  ~ "Out of Range",
unusual == "TRUE"       ~ "Outlying",
TRUE                    ~ "Within Range"))
view(dat1)
}
compare("overall_loudness")
feature = "overall_loudness"
select(allentown.dat, contains(feature))
compare = function(feature){
dat1 = all.dat |>
group_by(artist) |>
summarize(
IQR = (quantile(get(feature), .75)-quantile(get(feature), .25)),
min = min(get(feature)),
LF = quantile(get(feature), .25) - 1.5*IQR,
UF = quantile(get(feature), .75) + 1.5*IQR,
max = max(get(feature))) |>
mutate(out.of.range = case_when(
select(allentown.dat, contains({feature})) < min ~ "TRUE",
select(allentown.dat, contains({feature})) > max ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(unusual = case_when(
select(allentown.dat, contains({feature})) < LF ~ "TRUE",
select(allentown.dat, contains({feature})) > UF ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(description = case_when(
out.of.range == "TRUE"  ~ "Out of Range",
unusual == "TRUE"       ~ "Outlying",
TRUE                    ~ "Within Range"))
view(dat1)
}
compare("overall_loudness")
compare = function(feature){
dat1 = all.dat |>
group_by(artist) |>
summarize(
IQR = (quantile(get(feature), .75)-quantile(get(feature), .25)),
min = min(get(feature)),
LF = quantile(get(feature), .25) - 1.5*IQR,
UF = quantile(get(feature), .75) + 1.5*IQR,
max = max(get(feature))) |>
mutate(out.of.range = case_when(
select(allentown.dat, contains({feature})) < min ~ "TRUE",
print(feature)
select(allentown.dat, contains({feature})) > max ~ "TRUE",
compare = function(feature){
dat1 = all.dat |>
group_by(artist) |>
summarize(
IQR = (quantile(get(feature), .75)-quantile(get(feature), .25)),
min = min(get(feature)),
LF = quantile(get(feature), .25) - 1.5*IQR,
UF = quantile(get(feature), .75) + 1.5*IQR,
max = max(get(feature))) |>
mutate(out.of.range = case_when(
select(allentown.dat, contains({feature})) < min ~ "TRUE",
select(allentown.dat, contains({feature})) > max ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(unusual = case_when(
select(allentown.dat, contains({feature})) < LF ~ "TRUE",
select(allentown.dat, contains({feature})) > UF ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(description = case_when(
out.of.range == "TRUE"  ~ "Out of Range",
unusual == "TRUE"       ~ "Outlying",
TRUE                    ~ "Within Range"))
view(dat1)
print(feature)
}
compare("overall_loudness")
?contains()
?select()
all.dat = read_csv("data/essentia.data.csv")
allentown.dat = read_csv("data/essentia.data.allentown.csv")
(all.dat = merge(allentown.dat, all.dat))
view(all.dat)
all.dat = read_csv("data/essentia.data.csv")
allentown.dat = read_csv("data/essentia.data.allentown.csv")
all.dat <- all.dat |>
left_join(all.dat, allentown.dat, by = c("album","track"))
View(all.dat)
all.dat = read_csv("data/essentia.data.csv")
allentown.dat = read_csv("data/essentia.data.allentown.csv")
all.dat <- all.dat |>
left_join(all.dat, allentown.dat)
View(all.dat)
?left_join()
?left_join.data.frame()
all.dat = read_csv("data/essentia.data.csv")
allentown.dat = read_csv("data/essentia.data.allentown.csv")
all.dat <- all.dat |>
left_join.data.fram(all.dat, allentown.dat)
all.dat = read_csv("data/essentia.data.csv")
allentown.dat = read_csv("data/essentia.data.allentown.csv")
all.dat <- all.dat |>
left_join.data.frame(all.dat, allentown.dat)
all.dat = read_csv("data/essentia.data.csv")
allentown.dat = read_csv("data/essentia.data.allentown.csv")
all.dat <- all.dat |>
left_join(all.dat, allentown.dat, by = "album", "track")
all.dat = read_csv("data/essentia.data.csv")
allentown.dat = read_csv("data/essentia.data.allentown.csv")
all.dat <- all.dat |>
left_join(all.dat, allentown.dat, by = c("album", "track"))
view(all.dat)
all.dat = read_csv("data/essentia.data.csv")
allentown.dat = read_csv("data/essentia.data.allentown.csv")
all.dat <- all.dat |>
rbind(all.dat, allentown.dat, by = c("album", "track"))
View(all.dat)
all.dat = read_csv("data/essentia.data.csv")
allentown.dat = read_csv("data/essentia.data.allentown.csv")
all.dat <- all.dat |>
rbind(all.dat, allentown.dat)
View(all.dat)
all.dat = read_csv("data/essentia.data.csv")
allentown.dat = read_csv("data/essentia.data.allentown.csv")
loudness.dat = all.dat |>
group_by(artist) |>
summarize(
IQR = (quantile(overall_loudness, .75)-quantile(overall_loudness, .25)),
min = min(overall_loudness),
LF = quantile(overall_loudness, .25) - 1.5*IQR,
UF = quantile(overall_loudness, .75) + 1.5*IQR,
max = max(overall_loudness)) |>
mutate(out.of.range = case_when(
allentown.dat$overall_loudness < min ~ "TRUE",
allentown.dat$overall_loudness > max ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(unusual = case_when(
allentown.dat$overall_loudness < LF ~ "TRUE",
allentown.dat$overall_loudness > UF ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(description = case_when(
out.of.range == "TRUE"  ~ "Out of Range",
unusual == "TRUE"       ~ "Outlying",
TRUE                    ~ "Within Range"))
compare = function(feature){
dat1 = all.dat |>
group_by(artist) |>
summarize(
IQR = (quantile(get(feature), .75)-quantile(get(feature), .25)),
min = min(get(feature)),
LF = quantile(get(feature), .25) - 1.5*IQR,
UF = quantile(get(feature), .75) + 1.5*IQR,
max = max(get(feature))) |>
mutate(out.of.range = case_when(
select(allentown.dat, contains(feature)) < min ~ "TRUE",
select(allentown.dat, contains(feature)) > max ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(unusual = case_when(
select(allentown.dat, contains(feature)) < LF ~ "TRUE",
select(allentown.dat, contains(feature)) > UF ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(description = case_when(
out.of.range == "TRUE"  ~ "Out of Range",
unusual == "TRUE"       ~ "Outlying",
TRUE                    ~ "Within Range"))
view(dat1)
print(feature)
}
compare("overall_loudness")
View(allentown.dat)
all.dat = read_csv("data/essentia.data.csv")
allentown.dat = read_csv("data/essentia.data.allentown.csv")
all.dat <- all.dat |>
right_join(all.dat, allentown.dat)
?union
?union()
all.dat = read_csv("data/essentia.data.csv")
allentown.dat = read_csv("data/essentia.data.allentown.csv")
all.dat <- all.dat |>
union_all(all.dat, allentown.dat)
all.dat = read_csv("data/essentia.data.csv")
allentown.dat = read_csv("data/essentia.data.allentown.csv")
all.dat <- all.dat |>
union_all(all.dat, allentown.dat)
View(all.dat)
all.dat = read_csv("data/essentia.data.csv")
allentown.dat = read_csv("data/essentia.data.allentown.csv")
all.dat <- all.dat |>
union(all.dat, allentown.dat)
all.dat = read_csv("data/essentia.data.csv")
allentown.dat = read_csv("data/essentia.data.allentown.csv")
all.dat <- all.dat |>
union(all.dat, allentown.dat, )
?rbind.data.frame
all.dat = read_csv("data/essentia.data.csv")
allentown.dat = read_csv("data/essentia.data.allentown.csv")
all.dat <- all.dat |>
rbind(all.dat, allentown.dat, )
all.dat = read_csv("data/essentia.data.csv")
allentown.dat = read_csv("data/essentia.data.allentown.csv")
all.dat <- all.dat |>
rbind(deparse.level = 1, all.dat, allentown.dat, )
a
a
all.dat = read_csv("data/essentia.data.csv")
allentown.dat = read_csv("data/essentia.data.allentown.csv")
all.dat <- all.dat |>
rbind(1, all.dat, allentown.dat, )
all.dat = read_csv("data/essentia.data.csv")
allentown.dat = read_csv("data/essentia.data.allentown.csv")
all.dat <- all.dat |>
rbind(all.dat, allentown.dat)
View(all.dat)
all.dat = read_csv("data/essentia.data.csv")
allentown.dat = read_csv("data/essentia.data.allentown.csv")
all.dat <- all.dat |>
rbind(all.dat, allentown.dat, by = c("album", "track"))
View(all.dat)
library(tidyverse)
all.dat = read_csv("data/essentia.data.csv")
allentown.dat = read_csv("data/essentia.data.allentown.csv")
loudness.dat = all.dat |>
group_by(artist) |>
summarize(
IQR = (quantile(overall_loudness, .75)-quantile(overall_loudness, .25)),
min = min(overall_loudness),
LF = quantile(overall_loudness, .25) - 1.5*IQR,
UF = quantile(overall_loudness, .75) + 1.5*IQR,
max = max(overall_loudness)) |>
mutate(out.of.range = case_when(
allentown.dat$overall_loudness < min ~ "TRUE",
allentown.dat$overall_loudness > max ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(unusual = case_when(
allentown.dat$overall_loudness < LF ~ "TRUE",
allentown.dat$overall_loudness > UF ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(description = case_when(
out.of.range == "TRUE"  ~ "Out of Range",
unusual == "TRUE"       ~ "Outlying",
TRUE                    ~ "Within Range"))
compare = function(feature){
dat1 = all.dat |>
group_by(artist) |>
summarize(
IQR = (quantile(get(feature), .75)-quantile(get(feature), .25)),
min = min(get(feature)),
LF = quantile(get(feature), .25) - 1.5*IQR,
UF = quantile(get(feature), .75) + 1.5*IQR,
max = max(get(feature))) |>
mutate(out.of.range = case_when(
select(allentown.dat, contains(feature)) < min ~ "TRUE",
select(allentown.dat, contains(feature)) > max ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(unusual = case_when(
select(allentown.dat, contains(feature)) < LF ~ "TRUE",
select(allentown.dat, contains(feature)) > UF ~ "TRUE",
TRUE                                 ~ "FALSE")) |>
mutate(description = case_when(
out.of.range == "TRUE"  ~ "Out of Range",
unusual == "TRUE"       ~ "Outlying",
TRUE                    ~ "Within Range"))
view(dat1)
print(feature)
}
compare("overall_loudness")
